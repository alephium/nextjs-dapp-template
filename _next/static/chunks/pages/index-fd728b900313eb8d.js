(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4495)}])},4495:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r,s=n(5893),i=n(9008),a=n.n(i),o=n(3915),c=n.n(o),l=n(7294),d=n(6656),u={},m={},h={},x=n(3454);let _=x.env.NEXT_PUBLIC_NETWORK||"devnet";var p=JSON.parse('{"version":"v1.7.1","name":"Withdraw","bytecodeTemplate":"01010300000005{1}0d0c{0}0105","fieldsSig":{"names":["token","amount"],"types":["ByteVec","U256"],"isMutable":[false,false]},"functions":[{"name":"main","usePreapprovedAssets":true,"useAssetsInContract":false,"isPublic":true,"paramNames":[],"paramTypes":[],"paramIsMutable":[],"returnTypes":[]}]}');!function(e){async function t(e,t){let r=await n.txParamsForExecution(e,t);return await e.signAndSubmitExecuteScriptTx(r)}e.execute=t;var n=e.script=d.Script.fromJson(p)}(r||(r={}));let j=async(e,t,n)=>await r.execute(e,{initialFields:{token:n,amount:BigInt(t)}});var f=n(3543);let g=e=>{let{txId:t}=e,[n,r]=(0,l.useState)(!0),i=0,{txStatus:a}=(0,f.kH)(t,e=>(i+=1,("Confirmed"===e.type&&i>2||"TxNotFound"===e.type&&i>3)&&r(!1),Promise.resolve()));return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h3",{style:{margin:0},children:["Transaction status: ",(0,s.jsx)("code",{children:(null==a?void 0:a.type)||"unknown"})]}),(0,s.jsxs)("h3",{style:{margin:0},children:["Transaction hash: ",(0,s.jsx)("code",{children:t})]})]}):(0,s.jsx)(s.Fragment,{})},v=e=>{let{address:t,network:n}=e,r=(0,f.qp)(),i=(0,d.groupOfAddress)(t),[a,o]=(0,l.useState)(""),[x,p]=(0,l.useState)(""),[v,y]=(0,l.useState)(),[w,k]=(0,l.useState)();(0,l.useEffect)(()=>{let e=function(){let e="mainnet"===_?u:"testnet"===_?m:h,t={};return Object.keys(e).forEach(n=>{var r;t[parseInt(n)]=null===(r=e[n])||void 0===r?void 0:r.deployContractResults.TokenFaucet.contractId}),t}();e&&(y(e),p(e["".concat(i)]))},[]);let b=async e=>{if(e.preventDefault(),r.signerProvider){let e=await j(r.signerProvider,a,x);k(e.txId)}};return(0,s.jsxs)(s.Fragment,{children:[w&&(0,s.jsx)(g,{txId:w}),(0,s.jsx)("div",{className:"columns",children:(0,s.jsx)("form",{onSubmit:b,children:v&&Object.keys(v).length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h2",{className:c().title,children:["Alephium Token Faucet on ",n]}),(0,s.jsxs)("p",{children:["Since current address group is ",i,", only token from ",i," can be withdrawn."]}),(0,s.jsx)("p",{children:"Maximum 2 tokens can be withdrawn at a time."}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"id"}),(0,s.jsx)("th",{children:"group"})]})}),(0,s.jsx)("tbody",{children:Object.keys(v).map((e,t)=>i===parseInt(e)?(0,s.jsxs)("tr",{style:{background:"red",color:"white"},children:[(0,s.jsx)("td",{children:v[parseInt(e)]}),(0,s.jsx)("td",{children:e})]},t):(0,s.jsxs)("tr",{style:{color:"lightgrey"},children:[(0,s.jsx)("td",{children:v[parseInt(e)]}),(0,s.jsx)("td",{children:e})]},t))})]}),(0,s.jsx)("label",{htmlFor:"withdraw-amount",children:"Amount"}),(0,s.jsx)("input",{type:"number",id:"transfer-amount",name:"amount",max:"2",min:"1",value:a,onChange:e=>o(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{type:"submit",disabled:!!w,value:"Send Me Token"})]}):(0,s.jsxs)(s.Fragment,{children:["No token faucet detected on ",n,", please run ",(0,s.jsxs)("code",{children:["npx @alephium/cli deploy -n ",n]})," to deploy the token faucet contract."]})})})]})};function y(){let{account:e}=(0,f.mA)(_);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)(f.u$,{}),(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"Token Faucet"}),(0,s.jsx)("meta",{name:"description",content:"Generated by @alephium/cli init"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),!!e&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(v,{address:e.address,network:_})})]})})}},3915:function(e){e.exports={container:"Home_container__Ennsq",main:"Home_main__EtNt2",description:"Home_description__Qwq1f",code:"Home_code__aGV0U",grid:"Home_grid__c_g6N",card:"Home_card__7oz7W",center:"Home_center__V0nxp",logo:"Home_logo__80mSr",thirteen:"Home_thirteen__ocdUI",rotate:"Home_rotate__99GkW",content:"Home_content___fOQz",vercelLogo:"Home_vercelLogo__lhIxO"}},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);